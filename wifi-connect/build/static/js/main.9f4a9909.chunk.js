(this["webpackJsonpwifi-connect-ui"]=this["webpackJsonpwifi-connect-ui"]||[]).push([[0],{1211:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(54),r=n.n(i),s=(n(487),n(488),n(80)),l=n(424),c=n(1222),u=n(1220),m=n(474),d=n(33),f=n(81),p=n(1221),h=function(e){var t;return{type:"object",properties:{ssid:{title:"SSID",type:"string",default:null===(t=e[0])||void 0===t?void 0:t.ssid,oneOf:e.map((function(e){return{const:e.ssid,title:e.ssid}}))},identity:{title:"User",type:"string",default:""},passphrase:{title:"Passphrase",type:"string",default:""}},required:["ssid"]}},b=function(e){var t,n,o,i=e.availableNetworks,r=e.onSubmit,l=a.useState({}),c=Object(s.a)(l,2),u=c[0],m=c[1],b=(t=i,n=u.ssid,t.some((function(e){return e.ssid===n&&"enterprise"===e.security})));return a.createElement(d.a,{flexDirection:"column",alignItems:"center",justifyContent:"center",m:4,mt:5},a.createElement(f.a.h3,{align:"center",mb:4},"Select a WiFi Network"),a.createElement(p.a,{width:["100%","80%","60%","40%"],onFormChange:function(e){var t=e.formData;m(t)},onFormSubmit:function(e){var t=e.formData;return r(t)},value:u,schema:h(i),uiSchema:(o=b,{ssid:{"ui:placeholder":"Select SSID","ui:options":{emphasized:!0}},identity:{"ui:options":{emphasized:!0},"ui:widget":o?void 0:"hidden"},passphrase:{"ui:widget":"password","ui:options":{emphasized:!0}}}),submitButtonProps:{width:"60%",mx:"20%",mt:3,disabled:i.length<=0},submitButtonText:"Connect"}))},g=n(477),w=n(18),E=function(e){var t=e.hasAvailableNetworks,n=e.attemptedConnect,o=e.error;return a.createElement(a.Fragment,null,n&&a.createElement(g.a,{m:2,info:!0},a.createElement(w.d.span,null,"Applying changes... "),a.createElement(w.d.span,null,"Your device will soon be online. If connection is unsuccessful, the Access Point will be back up in a few minutes, and reloading this page will allow you to try again.")),!t&&a.createElement(g.a,{m:2,warning:!0},a.createElement(w.d.span,null,"No wifi networks available.Â "),a.createElement(w.d.span,null,"Please ensure there is a network within range and reboot the device.")),!!o&&a.createElement(g.a,{m:2,danger:!0},a.createElement(w.d.span,null,o)))},v=n(1);function y(){var e=Object(l.a)(["\n\tbody {\n\t\tmargin: 0;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n\t\t\t'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n\t\t\tsans-serif;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n\t\n\t.navbar {\n\t\tbackground-color: #f9f9f9 !important;\n\t}\n\t\n\t.logo-text {\n\t\tcolor: #333333; \n\t}\n\t\n\t.logo-text strong {\n\t\tfont-weight: 800;\n\t}\n\n\tcode {\n\t\tfont-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\n\t}\n"]);return y=function(){return e},e}var S=Object(v.createGlobalStyle)(y());r.a.render(o.a.createElement((function(){var e=o.a.useState(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=o.a.useState(!0),r=Object(s.a)(i,2),l=r[0],d=r[1],f=o.a.useState(""),p=Object(s.a)(f,2),h=p[0],g=p[1],w=o.a.useState([]),v=Object(s.a)(w,2),y=v[0],k=v[1];return o.a.useEffect((function(){fetch("/networks").then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.json()})).then(k).catch((function(e){g("Failed to fetch available networks. ".concat(e.message||e))})).finally((function(){d(!1)}))}),[]),o.a.createElement(c.a,null,o.a.createElement(S,null),o.a.createElement(u.a,{className:"navbar",brand:o.a.createElement("span",{className:"logo-text"},o.a.createElement("strong",null,"DROP"),"STATION")}),o.a.createElement(m.a,null,o.a.createElement(E,{attemptedConnect:n,hasAvailableNetworks:l||y.length>0,error:h}),o.a.createElement(b,{availableNetworks:y,onSubmit:function(e){a(!0),g(""),fetch("/connect",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status)throw new Error(e.statusText)})).catch((function(e){g("Failed to connect to the network. ".concat(e.message||e))}))}})))}),null),document.getElementById("root"))},482:function(e,t,n){e.exports=n(1211)}},[[482,1,2]]]);